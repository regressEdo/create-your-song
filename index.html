<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Music Generator</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Apply the Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for button and loading feedback */
        .keyword-btn {
            transition: all 0.2s ease-in-out;
        }
        .keyword-btn.selected {
            background-color: #0891B2; /* cyan-600 */
            color: #ffffff;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(14, 165, 233, 0.5);
        }
        .generating-button {
            cursor: not-allowed;
            background-color: #9CA3AF; /* gray-400 */
        }
        .generating-button .spinner {
            display: inline-block;
        }
        .generating-button .button-text {
            display: none;
        }
        .spinner {
            display: none;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 2px solid #fff;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <!-- =========== TOP BANNER SECTION =========== -->
    <!-- REPLACE THE IMAGE: Change the src attribute of the <img> tag below. -->
    <!-- For best results, use a wide image (e.g., 1920x600 pixels). -->
    <header class="relative h-64 md:h-80 w-full">
        <img 
            src="https://placehold.co/1920x600/1a202c/718096?text=Your+AI+Music+Banner" 
            alt="AI Music Banner" 
            class="w-full h-full object-cover"
            onerror="this.onerror=null;this.src='https://placehold.co/1920x600/1a202c/718096?text=Image+Error';"
        >
        <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center">
            <h1 class="text-4xl md:text-6xl font-bold text-center tracking-tight">Create Your AI Anthem</h1>
        </div>
    </header>
    <!-- ========================================== -->


    <main class="max-w-4xl mx-auto px-4 py-8 md:py-16">
        <form id="song-form" class="space-y-12">
            
            <!-- Step 1: Dedication Section -->
            <div>
                <h2 class="text-3xl font-semibold mb-2 text-cyan-400">Step 1: Dedicate Your Song</h2>
                <p class="text-gray-400 mb-4">Who is this masterpiece for? Enter a name below.</p>
                <label for="person-name" class="sr-only">Name of the person</label>
                <input 
                    type="text" 
                    id="person-name" 
                    name="person-name"
                    required
                    class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-lg focus:ring-2 focus:ring-cyan-500 focus:outline-none transition"
                    placeholder="e.g., Jane, my best friend"
                >
            </div>

            <!-- Step 2: Keywords Section -->
            <div>
                <h2 class="text-3xl font-semibold mb-2 text-cyan-400">Step 2: Choose Your Keywords</h2>
                <p class="text-gray-400 mb-4">Select a few keywords to set the genre, mood, and style of your song.</p>
                <div id="keywords-container" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 md:gap-4">
                    <!-- Keyword buttons will be dynamically inserted here -->
                </div>
            </div>

            <!-- Step 3: Generate Button -->
            <div class="text-center pt-4">
                <button 
                    type="submit" 
                    id="generate-btn"
                    class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold text-xl px-12 py-4 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out flex items-center justify-center mx-auto"
                >
                    <span class="spinner mr-3"></span>
                    <span class="button-text">Generate Song</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 button-text"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                </button>
            </div>
        </form>

        <!-- Results Section (hidden by default) -->
        <div id="results-section" class="hidden mt-16 text-center">
            <h2 class="text-3xl font-semibold mb-6 text-green-400">Your Masterpiece is Ready!</h2>
            <div class="bg-gray-800 rounded-xl p-6 md:p-8 shadow-2xl max-w-2xl mx-auto border border-gray-700">
                <h3 id="song-title" class="text-2xl font-bold mb-2"></h3>
                <p id="song-artist" class="text-gray-400 mb-6"></p>
                <audio id="audio-player" controls class="w-full">
                    Your browser does not support the audio element.
                </audio>
            </div>
        </div>
         <!-- Error Message Box -->
        <div id="error-box" class="hidden mt-8 max-w-2xl mx-auto bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg text-center">
            <p id="error-message"></p>
        </div>
    </main>

    <!-- =========== FOOTER SECTION =========== -->
    <footer class="bg-gray-900 border-t border-gray-800 mt-16">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <div class="flex justify-center space-x-6">
                <!-- Replace # with your actual social media links -->
                <a href="#" class="text-gray-400 hover:text-white transition">
                    <span class="sr-only">Twitter</span>
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"/></svg>
                </a>
                <a href="#" class="text-gray-400 hover:text-white transition">
                    <span class="sr-only">GitHub</span>
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd"/></svg>
                </a>
            </div>
            <p class="mt-8 text-center text-base text-gray-400">&copy; 2025 AI Music Generator. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // ============== CONFIGURATION "ENV" VARIABLES ==============
            // All major settings are here for easy editing.
            const config = {
                // To change the keywords, simply edit this list.
                keywords: [
                    '80s Synthwave', 'Acoustic Guitar', 'Happy', 'Sad', 'Epic',
                    'Love Ballad', 'Rock Anthem', 'Chill Lofi', 'Upbeat Pop', 'Heavy Metal',
                    'Orchestral', 'Piano Solo', 'Energetic Drums', 'Funky Bassline', 'Dreamy',
                    'Nostalgic', 'Inspirational', 'Mysterious', 'Jazz Club', 'Reggae Vibe'
                ],
                // API settings
                api: {
                    // Replace with your actual API endpoint if you have one
                    endpoint: 'https://api.some-music-service.com/generate',
                    // Replace with your actual API key
                    key: 'YOUR_API_KEY_HERE'
                }
            };
            // ==========================================================

            const songForm = document.getElementById('song-form');
            const generateBtn = document.getElementById('generate-btn');
            const keywordsContainer = document.getElementById('keywords-container');
            const resultsSection = document.getElementById('results-section');
            const errorBox = document.getElementById('error-box');
            
            let selectedKeywords = new Set();

            // Function to create and display keyword buttons
            function setupKeywords() {
                config.keywords.forEach(keyword => {
                    const button = document.createElement('button');
                    button.type = 'button'; // Prevent form submission
                    button.textContent = keyword;
                    button.dataset.keyword = keyword;
                    button.className = 'keyword-btn w-full bg-gray-800 text-gray-300 border border-gray-700 rounded-lg px-2 py-3 text-sm md:text-base hover:bg-gray-700 hover:border-cyan-500';
                    
                    button.addEventListener('click', () => {
                        button.classList.toggle('selected');
                        if (button.classList.contains('selected')) {
                            selectedKeywords.add(keyword);
                        } else {
                            selectedKeywords.delete(keyword);
                        }
                    });
                    
                    keywordsContainer.appendChild(button);
                });
            }

            songForm.addEventListener('submit', async (event) => {
                event.preventDefault();
                
                resultsSection.classList.add('hidden');
                errorBox.classList.add('hidden');
                
                const personName = document.getElementById('person-name').value;

                if (selectedKeywords.size === 0) {
                    displayError("Please select at least one keyword for the song.");
                    return;
                }

                generateBtn.classList.add('generating-button');

                try {
                    const prompt = Array.from(selectedKeywords).join(', ');
                    
                    // =================== IMPORTANT MOCK API CALL ===================
                    // To make this functional, replace this mock function call
                    // with a real `fetch` request using your actual API details.
                    const result = await mockApiCall(personName, prompt);
                    // =============================================================

                    displayResults(result);

                } catch (error) {
                    displayError(error.message);
                } finally {
                    generateBtn.classList.remove('generating-button');
                }
            });

            function mockApiCall(personName, prompt) {
                console.log('Simulating API call with:', { personName, prompt });
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (Math.random() > 0.1) { // 90% chance of success
                            resolve({
                                title: `An Anthem for ${personName}`,
                                artist: "AI Vibes",
                                audioUrl: "" // Real API would return an MP3 URL here
                            });
                        } else {
                            reject(new Error("The AI composer got a little shy. Please try again."));
                        }
                    }, 4000); // 4-second delay
                });
            }

            function displayResults(data) {
                document.getElementById('song-title').textContent = data.title;
                document.getElementById('song-artist').textContent = `By ${data.artist}`;
                document.getElementById('audio-player').src = data.audioUrl;
                
                resultsSection.classList.remove('hidden');
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            }

            function displayError(message) {
                document.getElementById('error-message').textContent = message;
                errorBox.classList.remove('hidden');
            }

            // Initialize the keyword buttons when the page loads
            setupKeywords();
        });
    </script>
</body>
</html>